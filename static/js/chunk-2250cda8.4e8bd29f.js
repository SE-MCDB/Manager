(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2250cda8"],{"1b91":function(e,t,a){},4550:function(e,t,a){"use strict";a("1b91")},aa58:function(e,t,a){},cf0f:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("a-table",{attrs:{"data-source":e.data,columns:e.columns,showExpandColumn:!0},scopedSlots:e._u([{key:"customFilterDropdown",fn:function(e){e.setSelectedKeys,e.selectedKeys,e.confirm,e.clearFilters,e.column}},{key:"operation",fn:function(t,n){return[a("div",[e.data.length?a("a-popconfirm",{attrs:{title:"Sure to delete?"},on:{confirm:function(){return e.onDeleteNeed(n.need_id)}}},[a("a",{attrs:{href:"javascript:0;"}},[e._v("Delete")])]):e._e()],1)]}},{key:"expandedRowRender",fn:function(t,n){return[a("ChildForm",{attrs:{OrderColumns:e.OrderColumns,OrderData:e.OrderData[n]}})]}}])})],1)},d=[],r=a("1da1"),o=a("5530"),i=(a("96cf"),a("caad"),a("2532"),a("d3b7"),a("25f0"),a("d81d"),a("a4d3"),a("e01a"),a("99af"),a("b775")),c=a("7424"),l=function(){var e="".concat(c["BASE_URL_IP"],"/api/need/getall");return Object(i["f"])(e,i["a"].GET)},s=function(e,t){var a="".concat(c["BASE_URL_IP"],"/api/order/byneed/").concat(e);return Object(i["f"])(a,t)},u=function(e,t){var a="".concat(c["BASE_URL_IP"],"/api/need/").concat(e,"/delete");return Object(i["f"])(a,i["a"].DELETE)},p=function(e,t){var a="".concat(c["BASE_URL_IP"],"/api/admin/order/").concat(e);return Object(i["f"])(a,i["a"].DELETE)},f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{staticStyle:{margin:"0","background-color":"lightgoldenrodyellow","font-size":"14px"}},[e._v("相关订单：")]),a("a-table",{staticStyle:{"background-color":"lightgoldenrodyellow"},attrs:{columns:e.OrderColumns,"data-source":e.OrderData,pagination:!1},scopedSlots:e._u([{key:"operation",fn:function(t,n){return[a("div",[e.OrderData.length?a("a-popconfirm",{attrs:{title:"Sure to delete?"},on:{confirm:function(){return e.onDeleteOrder(n.order_id)}}},[a("a",{attrs:{href:"javascript:0;"}},[e._v("Delete")])]):e._e()],1)]}}])})],1)},m=[],h={name:"ChildForm",inject:["reload"],props:{OrderColumns:{type:Array,default:""},OrderData:{type:Array,default:""},showExpandColumn:{type:Boolean,default:!0}},methods:{onDeleteOrder:function(e){p(e,"delete").then((function(e){})).catch((function(e){})),this.reload()}}},_=h,w=(a("f7c7"),a("2877")),y=Object(w["a"])(_,f,m,!1,null,"0a12a321",null),x=y.exports,g=[{title:"需求ID",dataIndex:"need_id",scopedSlots:{customRender:"need_id"},width:80},{title:"发布用户",dataIndex:"enterprise_name",scopedSlots:{customRender:"enterprise_name"},width:150,customFilterDropdown:!0,onFilter:function(e,t){return t.enterprise_name.toString().toLowerCase().includes(e.toLowerCase())}},{title:"需求名称",dataIndex:"title",scopedSlots:{customRender:"title"},width:230},{title:"开始时间",dataIndex:"start_time",scopedSlots:{customRender:"start_time"},width:150},{title:"结束时间",dataIndex:"end_time",scopedSlots:{customRender:"end_time"},width:150},{title:"关键词",dataIndex:"key_word",scopedSlots:{customRender:"key_word"},width:120},{title:"领域",dataIndex:"field",scopedSlots:{customRender:"field"},width:100},{title:"需求状态",dataIndex:"state",scopedSlots:{customRender:"state"},width:100},{title:"操作",dataIndex:"operation",width:80,scopedSlots:{customRender:"operation"}}],I=[],k=[{title:"订单ID",dataIndex:"order_id",key:"order_id",width:100,className:"ant-table-thead"},{title:"专家ID",dataIndex:"expert_id",key:"expert_id",width:100},{title:"专家姓名",dataIndex:"expert_name",key:"expert_name",width:100},{title:"专家电话",dataIndex:"phone",key:"phone",width:140},{title:"创建时间",dataIndex:"create_time",key:"create_time",width:200},{title:"结束时间",dataIndex:"end_time",key:"end_time",width:200},{title:"进行状态",dataIndex:"state",key:"state",width:100},{title:"操作",dataIndex:"operation",key:"operation",width:80,scopedSlots:{customRender:"operation"}}],S=[],b={name:"NeedForm",inject:["reload"],components:{ChildForm:x},data:function(){return this.cacheData=I.map((function(e){return Object(o["a"])({},e)})),{type:"",type1:0,data:I,columns:g,editingKey:"",OrderData:S,OrderColumns:k}},mounted:function(){this.init()},methods:{init:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.loadNeed();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loadNeed:function(){var e=this;this.loading=!0,I.length=0,S.length=0,l().then((function(t){for(var a=function(e){s(t.data.data[e].need_id,"get").then((function(a){I.push({need_id:t.data.data[e].need_id,enterprise_name:t.data.data[e].enterprise_name,title:t.data.data[e].title,description:t.data.data[e].description,start_time:t.data.data[e].start_time,money:t.data.data[e].money,key_word:t.data.data[e].key_word,end_time:t.data.data[e].end_time,field:t.data.data[e].field,state:t.data.data[e].state,emergency:t.data.data[e].emergency,predict:t.data.data[e].predict,real:t.data.data[e].real,order:a.data.data}),S.push(a.data.data)}))},n=0;n<t.data.data.length;n++)a(n);e.loading=!1})).catch((function(e){}))},handleChange:function(){this.loadNeed()},rowClassName:function(e,t){return"test"},onDeleteNeed:function(e){u(e,"delete").then((function(e){})).catch((function(e){})),this.reload()}}},O=b,D=(a("4550"),Object(w["a"])(O,n,d,!1,null,"5afde479",null));t["default"]=D.exports},f7c7:function(e,t,a){"use strict";a("aa58")}}]);